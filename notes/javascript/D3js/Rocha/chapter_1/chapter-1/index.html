<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../../../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Chapter 1 - Ben's Code Journal</title>
    <link href="../../../../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../../../css/highlight.css">
    <link href="../../../../../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../../../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "References:", url: "#_top", children: [
          ]},
          {title: "What is D3?", url: "#what-is-d3", children: [
          ]},
          {title: "Environment Setup", url: "#environment-setup", children: [
              {title: "npm", url: "#npm" },
              {title: "CDN link", url: "#cdn-link" },
              {title: "Simple Web Server with node", url: "#simple-web-server-with-node" },
          ]},
          {title: "Hello World", url: "#hello-world", children: [
              {title: "Constant", url: "#constant" },
              {title: "Binding", url: "#binding" },
              {title: "Update", url: "#update" },
              {title: "Modules (microlibraries)", url: "#modules-microlibraries" },
              {title: "Data Manipulation", url: "#data-manipulation" },
              {title: "Documents Manipulation", url: "#documents-manipulation" },
          ]},
        ];

    </script>
    <script src="../../../../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_2/chapter-2/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_2/chapter-2/" class="btn btn-xs btn-link">
        Chapter 2
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../../d3js.org/basics/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../../d3js.org/basics/" class="btn btn-xs btn-link">
        d3js.org
      </a>
    </div>
    
  </div>

    

    <h2 id="references">References:</h2>
<ul>
<li>D3.js documentation: d3js.org  </li>
<li>D3.js API reference: github.com/d3/d3/blob/master/API.md  </li>
<li>D3.js module repository: github.com/d3  </li>
<li>D3.js gallery: github.com/d3/d3/wiki/Gallery  </li>
<li>D3.js wiki: github.com/d3/d3/wiki  </li>
<li>Bl.ocks portfolios: bl.ocks.org  </li>
<li>Observable notebooks: observablehq.com  </li>
</ul>
<blockquote>
<p>Source <a href="https://github.com/PacktPublishing/Learn-D3.js/">github</a></p>
</blockquote>
<h2 id="what-is-d3">What is D3?</h2>
<p>D3 Stands for Data Driven Documents. It is a javascript library but not a charting library. It focuses on the data. It will replace the DOM API and libraries such as jQuery. It uses data to drive everything. Data is first. "This API is also used to bind and dispatch events, and to generate animated transitions. It can also parse different data formats, such as JSON and CSV, perform general data manipulation on objects and arrays.</p>
<p>A typical D3.js script uses CSS selectors to select HTML or SVG elements and binds them to individual data items, removing, updating, or appending graphical elements automatically, when necessary. From the intro it seems you use CSS to create a selection object on a group of HTML tags and then bind data to them. You can also make a selection bound to data when the HTML doen't exist yet and have the HTML created automatically.</p>
<p>Use <a href="https://d3js.org/">https://d3js.org/</a> and click on any of the hexagon example to be taken to a tutorial. Two other platforms are <a href="https://www.bl.ocks.org">https://www.bl.ocks.org</a> and <a href="https://www.observablehq.com">https://www.observablehq.com</a> which contain interactive tutorials.</p>
<h2 id="environment-setup">Environment Setup</h2>
<h3 id="npm">npm</h3>
<pre><code class="bash">$ npm install d3
</code></pre>

<p>From there in my home directory is:</p>
<pre><code class="bash">$ ls node_modules/d3/dist/
d3.js  d3.min.js  d3.node.js  package.js
</code></pre>

<p>Just source the <em>min</em> after copying it to your development directory as follows:</p>
<pre><code class="html">&lt;script src=&quot;js/d3/d3.v5.min.js&quot;&gt;&lt;/script&gt;
</code></pre>

<h3 id="cdn-link">CDN link</h3>
<p>You can also just source it from the internet if you always have internet:</p>
<pre><code class="html">&lt;script src=&quot;https://d3js.org/d3.v5.min.js&quot;&gt;&lt;/script&gt;
</code></pre>

<h3 id="simple-web-server-with-node">Simple Web Server with node</h3>
<p>For simple examples using the file system to open the file is enough, but for larger ones that load external files, it is better to use a web server.</p>
<pre><code class="bash">$ npm install http-server -g
</code></pre>

<p>Once installed move to the working directory and execute:</p>
<pre><code class="bash">$ http-server
</code></pre>

<blockquote>
<p>I had an issue running <code>http-server</code> out of the box and this <a href="https://github.com/nodejs/node-v0.x-archive/issues/3911">thread</a> fixed it.</p>
</blockquote>
<p>Ex: Create a sim link called <em>node</em> that points to <em>nodejs</em></p>
<pre><code class="bash">bbearce@bbearce-XPS-15-9560:~/Desktop/D3_tutorials$ sudo ln -s /usr/bin/nodejs /usr/bin/node
bbearce@bbearce-XPS-15-9560:~/Desktop/D3_tutorials$ http-server
Starting up http-server, serving ./
Available on:
  http://127.0.0.1:8080
  http://192.168.0.46:8080
Hit CTRL-C to stop the server
</code></pre>

<p>Notice:</p>
<pre><code class="bash">bbearce@bbearce-XPS-15-9560:~/Desktop/D3_tutorials$ ls -la /usr/bin/node
lrwxrwxrwx 1 root root 15 Feb 27 22:53 /usr/bin/node -&gt; /usr/bin/nodejs
bbearce@bbearce-XPS-15-9560:~/Desktop/D3_tutorials$ ls -la /usr/bin/nodejs
-rwxr-xr-x 1 root root 11187096 Aug  9  2018 /usr/bin/nodejs
</code></pre>

<blockquote>
<p>Don't forget about codepen and jsfiddle as possible development environments</p>
</blockquote>
<h2 id="hello-world">Hello World</h2>
<p>Put this is the body tag and then the js in a separate doc and source or put it in a script tag.
HTML</p>
<pre><code class="html">&lt;svg id=&quot;chart&quot; width=&quot;600&quot; height=&quot;200&quot;&gt;&lt;/svg&gt;
</code></pre>

<h3 id="constant">Constant</h3>
<pre><code class="js">const array = [100, 200, 300, 350, 375, 400, 500];

d3.select(&quot;#chart&quot;)  // select #chart
.selectAll(&quot;circle&quot;) // declares the elements we would like to create; Really this selects all circle elements in the &lt;svg&gt; tag but there are none so the selection is empty
.data([100])         // sets data to drive element creation
.enter()             // creates a selection to add elements per data item
.append(&quot;circle&quot;)    // appends an element of this type to each data item
.attr(&quot;r&quot;, &quot;10&quot;)     // sets &quot;r&quot; attribute
.attr(&quot;cy&quot;, 100)     // sets &quot;cy&quot; attribute
.attr(&quot;cx&quot;, d =&gt; d)  // sets &quot;cx&quot; attribute (same as function(d){ return d }); This is being set by the data;
</code></pre>

<h3 id="binding">Binding</h3>
<blockquote>
<p>(we changed [100] in .data() to array)</p>
</blockquote>
<pre><code class="js">const array = [100, 200, 300, 350, 375, 400, 500];

d3.select(&quot;#chart&quot;)
        .selectAll(&quot;circle&quot;)
        .data(array)         // here we change [100] to array for multiple circles
        .enter()
        .append(&quot;circle&quot;)
        .attr(&quot;r&quot;, &quot;10&quot;)
        .attr(&quot;cy&quot;, 100)
        .attr(&quot;cx&quot;, d =&gt; d)
</code></pre>

<h3 id="update">Update</h3>
<p>Now skip a line and add this code after the selection. After 2 seconds there is a 1/4 second transition.</p>
<pre><code class="js">setTimeout(function() {
    d3.select(&quot;#chart&quot;).selectAll(&quot;circle&quot;)
      .data([50, 75, 125, 225, 325, 425, 450])
        .attr(&quot;r&quot;, 5)
        .attr(&quot;cx&quot;, d =&gt; d)
        .style(&quot;fill&quot;, &quot;red&quot;)
}, 2000)
</code></pre>

<p>One very nice feature of D3 is how simple it is to animate transitions. You just need to chain a <code>transition()</code> command before the attributes and styles that changed. The default transition takes a quarter of a second.</p>
<pre><code class="js">setTimeout(function() {
        d3.select(&quot;#chart&quot;).selectAll(&quot;circle&quot;)
                .data([50, 75, 125, 225, 325, 425, 450])
                .transition().duration(1000)
                .attr(&quot;r&quot;, 5)
                .attr(&quot;cx&quot;, d =&gt; d)
                .style(&quot;fill&quot;, &quot;red&quot;)
        }, 2000)
</code></pre>

<p>You'll notice the transition is much smoother now, taking time to switch to red dots.</p>
<h3 id="modules-microlibraries">Modules (microlibraries)</h3>
<p>You can load select libraries like so:</p>
<pre><code class="html">&lt;script src=&quot;https://d3js.org/d3-selection.v1.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://d3js.org/d3-transition.v1.min.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>But if you need axes, maps, and other features, you will require more modules and dependencies. In this case, either use the default bundle, or set up a development environment where you can install each module using npm, since it automatically includes any dependencies.</p>
<pre><code class="js">npm install module-name
</code></pre>

<p><img alt="modules" src="../modules.png" /></p>
<h3 id="data-manipulation">Data Manipulation</h3>
<p>The following modules listed are used to generate, manipulate, transform, parse, and format data, in the form of numbers, text, arrays, objects, and files. They are all included in the default d3.js bundle:</p>
<table>
<thead>
<tr>
<th>Module</th>
<th>Bundled (d3v5)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>d3-array</td>
<td>Yes</td>
<td>Several array utilities that extend the basic ES6 functions, optimized for use with datasets. Dependencies: none.</td>
</tr>
<tr>
<td>d3-collection</td>
<td>Yes</td>
<td>Maps and sets optimized for use with datasets; functions for object collections and nesting data. Dependencies: none.</td>
</tr>
<tr>
<td>d3-random</td>
<td>Yes</td>
<td>Random number generators. Dependencies: none.</td>
</tr>
<tr>
<td>d3-dsv</td>
<td>Yes</td>
<td>Parser functions for delimiter-separated data. Dependencies: none.</td>
</tr>
<tr>
<td>d3-interpolate</td>
<td>Yes</td>
<td>Several functions for interpolating numbers, colors, strings, and so on. Dependencies: d3-color.</td>
</tr>
<tr>
<td>d3-scale</td>
<td>Yes</td>
<td>Generator functions to map data dimensions to graphical dimensions. Dependencies: d3-array, d3-collection, d3-format, d3-interpolate, d3-time-format, d3-time.</td>
</tr>
<tr>
<td>d3-time</td>
<td>Yes</td>
<td>API for operations with time (intervals, ranges, and so on). Dependencies: none.</td>
</tr>
<tr>
<td>d3-format</td>
<td>Yes</td>
<td>Locale-sensitive methods for number formatting. Dependencies: none.</td>
</tr>
<tr>
<td>d3-time-format</td>
<td>Yes</td>
<td>Locale-sensitive methods for date/time formatting. Dependencies: d3-time.</td>
</tr>
</tbody>
</table>
<h3 id="documents-manipulation">Documents Manipulation</h3>
<p>These are core modules in D3 used to select and manipulate HTML or SVG elements by providing a concise API to the DOM. With these modules, you can select and filter elements (using CSS selectors), create elements, append, insert, or remove from the DOM tree, add attributes and contents, change styles or classes, connect event handlers, and join data. Practically any D3 application uses at least d3-selection.</p>
<table>
<thead>
<tr>
<th>Module</th>
<th>Bundled (d3v5)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>d3-selection</td>
<td>Yes</td>
<td>Contains the essential DOM API for selection and manipulation of DOM elements. Dependencies: none.</td>
</tr>
<tr>
<td>d3-selection-multi</td>
<td>No</td>
<td>Adds optional support for setting multiple attributes, styles, or properties in selections and transitions using an object syntax. Dependencies: d3-selection, d3-transition.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>There are more located <a href="https://subscription.packtpub.com/book/web_development/9781838645571/1/ch01lvl1sec12/modules-microlibraries">here</a></p>
</blockquote>
<p>There are:  </p>
<ul>
<li>colors  </li>
<li>ajax  </li>
<li>2D geometry graphing API  </li>
<li>Spherical geometry and geometrical maps  </li>
<li>Layouts: node-link hierarchies, graphs, trees, networks, flow diagrams, tiles, and Voronoi diagrams  </li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../chapter_2/chapter-2/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../chapter_2/chapter-2/" class="btn btn-xs btn-link">
        Chapter 2
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../../d3js.org/basics/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../../d3js.org/basics/" class="btn btn-xs btn-link">
        d3js.org
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="">Windmill Dark</a> theme by None (noraj).</p>
</footer>

</body>
</html>